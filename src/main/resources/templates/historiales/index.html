<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Historial de Movimientos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container my-4">
    <h1 class="text-center mb-4">Historial de Movimientos</h1>

    <form class="mb-3" method="get" action="/historiales/">
        <div class="row">
            <div class="col-md-4">
                <select class="form-select" name="tipo">
                    <option value="">Todos</option>
                    <option value="Entrada">Entradas</option>
                    <option value="Salida">Salidas</option>
                </select>
            </div>
            <div class="col-md-2">
                <button class="btn btn-primary" type="submit">Filtrar</button>
                <a
                        class="btn btn-outline-primary"
                        href="/productos/"
                        role="button"
                >
                    Regresar
                </a>
            </div>
        </div>
    </form>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>Tipo</th>
            <th>Producto</th>
            <th>Usuario</th>
            <th>Fecha y hora</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="h : ${historiales}">
            <td th:text="${h.idHistorial}"></td>
            <td th:text="${h.tipo}"></td>
            <td th:text="${h.producto.nombre}"></td>
            <td th:text="${h.usuario.nombre}"></td>
            <td th:text="${#temporals.format(h.fechaHora, 'dd/MM/yyyy HH:mm')}"></td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
